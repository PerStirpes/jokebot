#!/usr/bin/env node

//Module dependencies.
const { createServer } = require('http')
const debug = require('debug')('Bin-server')
const app = require('../app')

//Get port from environment and store in Express.

app.set('port', process.env.PORT || 3000)

///Create HTTP server.
const server = createServer(app)

// Listen on provided port, on all network interfaces.
server.listen(app.get('port'), () => {
  if (process.env.NODE_ENV === 'development') {
    debug('hi from development')
  }
  debug(`> We're live on port ${server.address().port}`)
})
